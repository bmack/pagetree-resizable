define(["jquery","jquery-ui/resizable"],function(a){return{run:function(b){a(".scaffold-content-navigation").resizable({handles:"e, w",minWidth:200,create:function(){var c=a(".scaffold-content-navigation");c.find(".ui-resizable-e").dblclick(function(h){if(a("#typo3-pagetree .x-panel-body ul").length||a("#typo3-pagetree svg g.nodes-wrapper").length){var g=a("#typo3-pagetree .x-panel-body ul").length?a("#typo3-pagetree .x-panel-body ul").prop("scrollWidth"):a("#typo3-pagetree svg g.nodes-wrapper")[0].getBBox().width;if(c.width()<g){var i=(g-c.width())+10;var f=a(this).offset().left;var d=a(this).offset().top;a(this).trigger("mouseover").trigger({type:"mousedown",which:1,pageX:f,pageY:d}).trigger({type:"mousemove",which:1,pageX:f+i,pageY:d}).trigger({type:"mouseup",which:1,pageX:f+i,pageY:d})}}})},resize:function(c,d){if(a("#pagetree-resize-styles").length===0){a('<div id="pagetree-resize-styles"/>').appendTo("body")}a("#pagetree-resize-styles").html("<style>.scaffold-content-navigation-expanded .scaffold-content-navigation{width:"+d.size.width+"px} .scaffold-content-navigation-expanded .scaffold-content-module{left:"+d.size.width+"px}</style>")},start:function(){var c=a(".scaffold-content-navigation-expanded").find(".scaffold-content-module");var f=c.find("iframe");var e=a("<div></div>");c.append(e[0]);e[0].id="resize-overlay";e.css({position:"absolute"});e.css({top:f.position().top,left:0});e.height(f.height());e.width("100%")},stop:function(d,e){var c=a(".scaffold-content-navigation-expanded").find(".scaffold-content-module");c.find("#resize-overlay").remove();b.set("Backend.PagetreeResizable.width",e.size.width)}})}}});