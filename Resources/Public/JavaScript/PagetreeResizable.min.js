define(["jquery","jquery-ui/resizable"],function(a){return{run:function(c){function b(e){var g=e.find("iframe");var f=a('<div class="resize-iframe-overlay"></div>');e.append(f[0]);f.css({position:"absolute"});f.css({top:g.position().top,left:0});f.height(g.height());f.width("100%")}a(".scaffold-content-navigation").resizable({handles:"e, w",minWidth:200,create:function(){var d=a(".scaffold-content-navigation");d.find(".ui-resizable-e").dblclick(function(i){if(a("#typo3-pagetree .x-panel-body ul").length||a("#typo3-pagetree svg g.nodes-wrapper").length){var h=a("#typo3-pagetree .x-panel-body ul").length?a("#typo3-pagetree .x-panel-body ul").prop("scrollWidth"):a("#typo3-pagetree svg g.nodes-wrapper")[0].getBBox().width;if(d.width()<h){var j=(h-d.width())+10;var g=a(this).offset().left;var f=a(this).offset().top;a(this).trigger("mouseover").trigger({type:"mousedown",which:1,pageX:g,pageY:f}).trigger({type:"mousemove",which:1,pageX:g+j,pageY:f}).trigger({type:"mouseup",which:1,pageX:g+j,pageY:f})}}})},resize:function(e,f){var d=a("#pagetree-resize-styles");if(d.length===0){a('<div id="pagetree-resize-styles"/>').appendTo("body")}d.html("<style>.scaffold-content-navigation-expanded .scaffold-content-navigation{width:"+f.size.width+"px} .scaffold-content-navigation-expanded .scaffold-content-module{left:"+f.size.width+"px}</style>")},start:function(){var e=a(".scaffold-content-navigation-expanded");var d=e.find(".scaffold-content-module");b(d);var f=e.find(".scaffold-content-navigation");b(f)},stop:function(d,e){a(".resize-iframe-overlay").remove();c.set("Backend.PagetreeResizable.width",e.size.width)}})}}});